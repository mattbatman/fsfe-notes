{"componentChunkName":"component---src-templates-notes-template-tsx","path":"/server-setup","result":{"data":{"markdownRemark":{"html":"<ol>\n<li>Update software</li>\n<li>Create a new user</li>\n<li>Make that user a super user</li>\n<li>Enable login for new user</li>\n<li>Disable root login</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Update software</span>\n<span class=\"token function\">apt</span> update\n\n<span class=\"token comment\"># Upgrade software</span>\n<span class=\"token function\">apt</span> upgrade\n\n<span class=\"token comment\"># Add new user (e.g. adduser jem)</span>\nadduser <span class=\"token variable\">$USERNAME</span>\n\n<span class=\"token comment\"># Add user to \"sudo\" (superuser do) group</span>\n<span class=\"token function\">usermod</span> -aG <span class=\"token function\">sudo</span> <span class=\"token variable\">$USERNAME</span>\n\n<span class=\"token comment\"># Switch user</span>\n<span class=\"token function\">su</span> <span class=\"token variable\">$USERNAME</span>\n\n<span class=\"token comment\"># Check sudo access (/var/log/auth.log generally requires sudo access)</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">cat</span> /var/log/auth.log\n\n<span class=\"token comment\"># Change to home directory</span>\n<span class=\"token builtin class-name\">cd</span> ~\n\n<span class=\"token comment\"># Create a new directory if it doesn't exist</span>\n<span class=\"token function\">mkdir</span> -p ~/.ssh\n\n<span class=\"token comment\"># Create authorized_keys file and paste public key</span>\n<span class=\"token function\">vim</span> ~/.ssh/authorized_keys\n<span class=\"token comment\"># cat fsfe2.pub on the public key you made on your local machine</span>\n<span class=\"token comment\"># paste into file and save</span>\n\n<span class=\"token comment\"># exit and log in with new username</span>\n<span class=\"token builtin class-name\">exit</span>\n<span class=\"token builtin class-name\">exit</span>\n<span class=\"token function\">ssh</span> jem@000.00.000.000\n\n<span class=\"token comment\"># disabling the root user...</span>\n<span class=\"token comment\"># Change file permissions...</span>\n<span class=\"token function\">chmod</span> <span class=\"token number\">644</span> ~/.ssh/authorized_keys\n\n<span class=\"token comment\"># Disable root login</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> /etc/ssh/sshd_config\n<span class=\"token comment\"># ... then find and change:</span>\nPermitRootLogin no <span class=\"token comment\"># was \"yes\"</span>\n\n<span class=\"token comment\"># then restart</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> sshd restart</code></pre></div>","frontmatter":{"path":"/server-setup","title":"Server Setup","order":"f"}}},"pageContext":{}}}